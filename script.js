function updateStatus(data){const discordStatus=document.getElementById('discord-status');const statusIndicator=document.querySelector('.status-indicator');const customStatus=document.getElementById('discord-custom-status');if(data.discord_status){discordStatus.textContent=data.discord_status.charAt(0).toLowerCase()+data.discord_status.slice(1);statusIndicator.className=`status-indicator ${data.discord_status}`;}else{discordStatus.textContent='offline';statusIndicator.className='status-indicator offline';}
const customActivity=data.activities.find(activity=>activity.type===4);customStatus.textContent=customActivity&&customActivity.state?customActivity.state:'';}
const ws=new WebSocket('wss://api.lanyard.rest/socket');ws.onopen=()=>{ws.send(JSON.stringify({op:2,d:{subscribe_to_id:'1372459254136705064'}}));setInterval(()=>{ws.send(JSON.stringify({op:3}));},30000);};ws.onmessage=(event)=>{const message=JSON.parse(event.data);if(message.op===0&&message.t==='PRESENCE_UPDATE'){updateStatus(message.d);}else if(message.op===1){ws.send(JSON.stringify({op:2,d:{subscribe_to_id:'1372459254136705064'}}));}};fetch('https://api.lanyard.rest/v1/users/1372459254136705064').then(response=>response.json()).then(data=>{if(data.success){updateStatus(data.data);}}).catch(error=>{console.error('Error fetching Lanyard data:',error);document.getElementById('discord-status').textContent='Error';});